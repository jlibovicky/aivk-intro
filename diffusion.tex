\begin{frame}{Difussion modely pro generování obrázků}

    \centering

    Známé modely jako \textbf{DALLE-2} \textbf{Stable Diffusion} {\tiny \citep{ramesch2022hierarchical,rombach2022stableDifussion}}

    \begin{columns}[t]
        \column{.48\textwidth}

            \centering
            \includegraphics[width=.7\textwidth]{img/stable_dif_keenu.jpg} \\

            \scriptsize Keanu Reeves portrait photo of a asia old
            warrior chief, tribal panther make up, blue on red, side profile,
            looking away, serious eyes, 50mm portrait photography
        \column{.48\textwidth}
            \centering

            \includegraphics[width=.7\textwidth]{img/stable_dif_poison.jpg} \\

            \scriptsize Full page concept design how to craft life Poison,
            intricate details,infographic of alchemical, diagram of how to make
            potions, captions, directions, ingredients

    \end{columns}

    \tiny Příklady obrázků vygenerovaných pomocí Stable Diffusion, zdroj: \url{https://mpost.io/best-100-stable-diffusion-prompts-the-most-beautiful-ai-text-to-image-prompts}

\end{frame}

% ----------------------------------------------------------------------------

\begin{frame}{Difussion model}

    \begin{center}
        \includegraphics[width=10cm]{img/difusion.png} \\ \tiny \citep[Figure 6]{ho2020denoising}
    \end{center}

    \begin{itemize}[<+->]

        \item Založeno na odstraňování šumu z~obrázku

        \item Začátek -- náhodný šum

        \item V~každém kroku konvoluční síť odstraní trochu šumu

        \item Vygenerovat trénovací data je triviální: postupně se přidává šum k obrázku

    \end{itemize}

    \visible<5->{
    \begin{center}
        Původní koncept pochází z~UC Berkley, preprint z~června 2020
    \end{center}}

\end{frame}


\begin{frame}{Generování obrázku z~promptu}

    \begin{center}
    \begin{tikzpicture}[>=latex]

        \node (prompt) {Textual prompt};

        \visible<2->{
        \node[draw,fill=ForestGreen!40,right=30pt of prompt] (clip) {\begin{minipage}{65pt}\centering Text \\ representaiton\end{minipage}};
        \draw[->] (prompt) -- (clip);
        }

        \node[below=20pt of prompt] (noise) {\includegraphics[width=60pt]{img/noise.png}};

        \visible<3->{
        \node[right=80pt of noise,draw,fill=Orange!60] (denoiser) {\begin{minipage}{65pt}\centering Denoising\end{minipage}};
        \draw[->] (noise) -- (denoiser);
        \draw[->] (clip.east) to[out=0,in=90] (denoiser.north);
        }

        \visible<4->{
        \node[minimum width=60pt,minimum height=60pt,right=30pt of denoiser,opacity=0.2,inner sep=0pt] {\includegraphics[width=60pt]{img/noise.png}};
        \node[draw, minimum width=60pt,minimum height=60pt,right=30pt of denoiser] (better) {\scalebox{2}{\huge\color{white}\bf ?}};
        \draw[->] (denoiser) -- (better);
        }

        \visible<5->{
        \node[minimum width=60pt,minimum height=60pt,right=30pt of denoiser,opacity=0.2,inner sep=0pt] {\includegraphics[width=60pt]{img/die_maus.jpg}};
        \node[left=0pt of denoiser] {\scalebox{3.2}{\huge (}};
        \node[right=0pt of better] {\scalebox{3.2}{\huge )}$N\times$};
        \draw[->] (better.south) to[out=200,in=-90] (denoiser.south);
        }

    \end{tikzpicture}
    \end{center}

    \vspace{10pt}
    \visible<6->{Původně malý obrázek -- dekonvoluční modely pro zvětšování} \\
    \visible<7->{Dnešní diffusion modely pracují v latentním prostoru}

\end{frame}
